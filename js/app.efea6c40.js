(function(t){function e(e){for(var i,r,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],i=!0,r=1;r<n.length;r++){var o=n[r];0!==a[o]&&(i=!1)}i&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var i={},r={app:0},a={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2fd7ae14":"2d539858","chunk-388f7f58":"afaaac93","chunk-5ebcf5d2":"c9f5011a","chunk-8d025a70":"a0128048","chunk-9397f96c":"2063ba19","chunk-fce47f62":"dacf2ca7"}[t]+".js"}function c(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-2fd7ae14":1,"chunk-388f7f58":1,"chunk-5ebcf5d2":1,"chunk-8d025a70":1,"chunk-9397f96c":1,"chunk-fce47f62":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var i="css/"+({}[t]||t)+"."+{"chunk-2fd7ae14":"fa9384aa","chunk-388f7f58":"2a379acd","chunk-5ebcf5d2":"d83c352f","chunk-8d025a70":"0a406c3f","chunk-9397f96c":"2c92c0f5","chunk-fce47f62":"11cdb0fc"}[t]+".css",a=c.p+i,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===i||u===a)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var i=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[t],f.parentNode.removeChild(f),n(s)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){r[t]=0})));var i=a[t];if(0!==i)if(i)e.push(i[2]);else{var s=new Promise((function(e,n){i=a[t]=[e,n]}));e.push(i[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=a[t];if(0!==n){if(n){var i=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}a[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=i,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)c.d(n,i,function(e){return t[e]}.bind(null,i));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0ce7":function(t,e,n){},"1bcb":function(t,e,n){"use strict";var i=n("4e07"),r=n.n(i);r.a},"2ea5":function(t,e,n){},"339d":function(t,e,n){},"365c":function(t,e,n){"use strict";n("4160"),n("b0c0"),n("d3b7"),n("159b");var i=n("2909"),r=n("bc3a"),a=n.n(r),s=n("2b0e");a.a.defaults.baseURL="http://127.0.0.1:3000",a.a.defaults.timeout=7e3;var o=0;a.a.interceptors.request.use((function(t){return o++,s["a"].showLoading(),t}),(function(t){return s["a"].hiddenLoading(),Promise.reject(t)})),a.a.interceptors.response.use((function(t){return o--,0===o&&s["a"].hiddenLoading(),t}),(function(t){return s["a"].hiddenLoading(),Promise.reject(t)}));var c={get:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){a.a.get(t,{params:e}).then((function(t){n(t.data)}))["catch"]((function(t){i(t)}))}))},post:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((function(n,i){a.a.post(t,e).then((function(t){n(t.data)}))["catch"]((function(t){i(t)}))}))},all:function(t){return new Promise((function(e,n){a.a.all(t).then(a.a.spread((function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];e(n)})))["catch"]((function(t){n(t)}))}))}};n.d(e,"c",(function(){return l})),n.d(e,"j",(function(){return u})),n.d(e,"h",(function(){return d})),n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"d",(function(){return p})),n.d(e,"f",(function(){return g})),n.d(e,"g",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"e",(function(){return b})),n.d(e,"l",(function(){return w})),n.d(e,"m",(function(){return S})),n.d(e,"b",(function(){return L})),n.d(e,"o",(function(){return C}));var l=function(){return c.get("banner?type=2")},u=function(){return c.get("personalized?limit=6")},d=function(){return c.get("album/newest")},f=function(){return c.get("personalized/newsong")},h=function(t){return c.get("playlist/detail",t)},m=function(t){return c.get("album",t)},p=function(t){return c.get("song/detail",t)},g=function(t){return c.get("lyric",t)},v=function(t){return c.get("/song/url",t)},y=function(t){return c.get("/artists",t)},b=function(t){return c.get("/top/list",t)},w=function(t){return c.get("search?type=1",t)},S=function(t){return c.get("search/hot",t)},P=function(){return new Promise((function(t,e){c.get("/top/artists?offset=0&limit=5").then((function(e){t(e.artists)}))["catch"]((function(t){e(t)}))}))},T=function(t){var e=[];return new Promise((function(n,r){c.all([c.get("/artist/list?cat=1001&offset=0&limit=5&initial=".concat(t)),c.get("/artist/list?cat=1002&offset=0&limit=5&initial=".concat(t)),c.get("/artist/list?cat=1003&offset=0&limit=5&initial=".concat(t)),c.get("/artist/list?cat=2001&offset=0&limit=5&initial=".concat(t)),c.get("/artist/list?cat=2002&offset=0&limit=5&initial=".concat(t)),c.get("/artist/list?cat=2003&offset=0&limit=5&initial=".concat(t))]).then((function(t){t.forEach((function(t){e.push.apply(e,Object(i["a"])(t.artists))})),n(e)}))["catch"]((function(t){r(t)}))}))},L=function(){return new Promise((function(t,e){for(var n=["热"],i=[P()],r=65;r<91;r++){var a=String.fromCharCode(r);n.push(a),i.push(T(a))}c.all(i).then((function(e){var i={};i.keys=n,i.list=e,t(i)}))["catch"]((function(t){e(t)}))}))},C=function(){return new Promise((function(t,e){var n={officialList:[{name:"云音乐飙升榜",id:3},{name:"云音乐新歌榜",id:0},{name:"网易原创歌曲榜",id:2},{name:"云音乐热歌榜",id:1}],recList:[{name:"云音乐说唱榜",id:23},{name:"云音乐电音榜",id:25},{name:"云音乐欧美新歌榜",id:32},{name:"抖音排行榜",id:26},{name:"云音乐ACG音乐榜",id:22},{name:"云音乐古典音乐榜",id:24}],globalList:[{name:"美国Billboard周榜",id:6},{name:"UK排行榜周榜",id:5},{name:"Beatport全球电子舞曲榜",id:21},{name:"日本Oricon周榜",id:10},{name:"iTunes榜",id:8},{name:"英国Q杂志中文版周榜",id:29}],otherList:[{name:"KTV唛榜",id:7},{name:"法国 NRJ Vos Hits 周榜",id:19},{name:"新声榜",id:27},{name:"云音乐韩语榜",id:28},{name:"电竞音乐榜",id:30},{name:"云音乐欧美热歌榜",id:31}],titles:{officialList:"官方榜",recList:"推荐榜",globalList:"全球榜",otherList:"更多榜单"}};c.get("/toplist/detail").then((function(e){e.list.forEach((function(t){var e=!1;for(var i in n){for(var r=0;r<n[i].length;r++)if(n[i][r].name===t.name){n[i][r].rank=t,e=!0;break}if(e)break}})),t(n)}))["catch"]((function(t){e(t)}))}))}},3976:function(t,e,n){"use strict";var i=n("a48e"),r=n.n(i);r.a},"4def":function(t,e,n){"use strict";var i=n("7a2e"),r=n.n(i);r.a},"4e07":function(t,e,n){},5040:function(t,e,n){"use strict";var i=n("ba2f"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Header"),n("Tabbar"),n("keep-alive",{attrs:{include:"Singer,Search"}},[n("router-view")],1),n("Player")],1)},a=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top",on:{click:t.changeTheme}},[n("div",{staticClass:"top-left"}),n("p",[t._v("自己的音乐")]),n("div",{staticClass:"top-right",on:{click:function(e){return e.stopPropagation(),t.account(e)}}})])},o=[],c={name:"Header",data:function(){return{themes:["theme","theme1","theme2"],index:0}},methods:{changeTheme:function(){this.index+=1,this.index>=this.themes.length&&(this.index=0),document.documentElement.setAttribute("data-theme",this.themes[this.index])},account:function(){this.$router.push({path:"/account"})}}},l=c,u=(n("c448"),n("2877")),d=Object(u["a"])(l,s,o,!1,null,"36d3a518",null),f=d.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tabbar"},[n("router-link",{staticClass:"item",attrs:{to:"/recommend",tag:"div"}},[n("span",[t._v("推荐")])]),n("router-link",{staticClass:"item",attrs:{to:"/singer",tag:"div"}},[n("span",[t._v("歌手")])]),n("router-link",{staticClass:"item",attrs:{to:"/rank",tag:"div"}},[n("span",[t._v("排行")])]),n("router-link",{staticClass:"item",attrs:{to:"/search",tag:"div"}},[n("span",[t._v("搜索")])])],1)},m=[],p={name:"Tabbar"},g=p,v=(n("d25a"),Object(u["a"])(g,h,m,!1,null,"7f48600c",null)),y=v.exports,b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"player"},[n("NormalPlayer",{attrs:{totalTime:t.totalTime,currentTime:t.currentTime}}),n("MiniPlayer"),n("MiniList",{ref:"miniList"}),n("audio",{ref:"audio",attrs:{src:t.isDetailSong.url},on:{timeupdate:t.timeupdate,ended:t.end}})],1)},w=[],S=n("5530"),P=n("2f62"),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.isFullView,expression:"this.isFullView"}],staticClass:"normalplayer"},[n("div",{staticClass:"player-wrapper"},[n("PlayerHeader"),n("PlayerMiddle",{attrs:{currentTime:t.currentTime}}),n("PlayerBottom",{attrs:{totalTime:t.totalTime,currentTime:t.currentTime}})],1),n("div",{staticClass:"back"},[n("img",{attrs:{src:t.isDetailSong.picUrl,alt:""}}),n("div",{staticClass:"mask"})])])])},L=[],C=(n("a9e3"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("div",{staticClass:"top-left",on:{click:t.closeNormalPlayer}}),n("div",{staticClass:"top-center"},[n("h3",[t._v(t._s(t.isDetailSong.name))]),n("p",[t._v(t._s(t.isDetailSong.singer))])]),n("div",{staticClass:"top-right"})])}),M=[],x={name:"PlayerHeader",methods:Object(S["a"])({},Object(P["b"])(["actChangeView","actMiniPlayer"]),{closeNormalPlayer:function(){this.actChangeView(!1),this.actMiniPlayer(!0)}}),computed:Object(S["a"])({},Object(P["c"])(["isDetailSong"]))},k=x,O=(n("cff4"),Object(u["a"])(k,C,M,!1,null,"46bee6a0",null)),_=O.exports,$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"divheight",staticClass:"main"},[n("swiper",{attrs:{options:t.swiperOption}},[n("swiper-slide",{staticClass:"item-cd"},[n("div",{staticClass:"cd-top"},[n("img",{ref:"img",attrs:{src:t.isDetailSong.picUrl}})]),n("p",[t._v(t._s(t.currentLyric[0]))])]),n("swiper-slide",{staticClass:"scroll"},[n("ScrollView",{ref:"scrollviewRef",staticClass:"scrollview"},[n("ul",t._l(t.currentLyric,(function(e,i){return n("li",{key:i,class:{active:t.curTime===i}},[t._v(t._s(e))])})),0)])],1),n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"})],1)],1)},j=[],I=(n("dfa4"),n("7212")),D=n.n(I),F=n("9b91"),E={name:"PlayerMiddle",props:{currentTime:{type:Number,default:0,required:!0}},data:function(){return{swiperOption:{pagination:{el:".swiper-pagination"},observer:!0,observeParents:!0,observeSlideChildren:!0},curTime:"0"}},components:{swiper:I["swiper"],swiperSlide:I["swiperSlide"],ScrollView:F["a"]},computed:Object(S["a"])({},Object(P["c"])(["isPlaying","isDetailSong","currentLyric"])),methods:{preTime:function(t){if(t<0)return this.curTime;var e=this.currentLyric[t+""];return void 0===e||""===e?(t--,this.preTime(t)):t+""}},watch:{isPlaying:function(t){!0===t?this.$refs.img.classList.add("active"):this.$refs.img.classList.remove("active")},currentLyric:function(t){for(var e in t)return void(this.curTime=e)},currentTime:function(t){var e=Math.floor(t)+"",n=this.preTime(e);this.curTime=n;var i=document.querySelector("li.active").offsetTop,r=this.$refs.divheight.offsetHeight/2;i>r?this.$refs.scrollviewRef.scrollTo(0,r-i,200):this.$refs.scrollviewRef.scrollTo(0,0,200)}}},H=E,N=(n("3976"),Object(u["a"])(H,$,j,!1,null,"b01b772a",null)),V=N.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playerbottom"},[n("div",{staticClass:"bottom-progress"},[n("span",{ref:"eleCurrentTime"},[t._v("00:00")]),n("div",{ref:"progressGround",staticClass:"progress-ground",on:{click:t.progressClick}},[n("div",{ref:"eleProgressBar",staticClass:"progress-bar"},[n("div",{staticClass:"progress-dot"})])]),n("span",{ref:"eleTotalTime"},[t._v("00:00")])]),n("div",{staticClass:"bottom-btn"},[n("div",{ref:"mode",staticClass:"btn1 loop",on:{click:t.change}}),n("div",{staticClass:"btn2",on:{click:t.preMusic}}),n("div",{ref:"play",staticClass:"btn3",on:{click:t.play}}),n("div",{staticClass:"btn4",on:{click:t.nextMusic}}),n("div",{staticClass:"btn5",class:{active:t.isFavorite(t.isDetailSong)},on:{click:t.favorite}})])])},B=[],R=(n("7db0"),{loop:0,one:1,random:2}),U=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t},q=function(t){var e=t,n=Math.floor(e/86400);n=n>=10?n:"0"+n;var i=Math.floor(e/3600%24);i=i>=10?i:"0"+i;var r=Math.floor(e/60%60);r=r>=10?r:"0"+r;var a=Math.floor(e%60);return a=a>=10?a:"0"+a,{day:n,hour:i,minute:r,second:a}},J=function(t,e){return window.localStorage.setItem(t,JSON.stringify(e))},G=function(t){return window.localStorage.getItem(t)},K={name:"PlayerBottom",props:{totalTime:{type:Number,default:0,required:!0},currentTime:{type:Number,default:0,required:!0}},methods:Object(S["a"])({},Object(P["b"])(["actPlaying","actModelType","addCurrentIndex","delCurrentIndex","actCurrentTime","actFavoriteSongs"]),{play:function(){this.actPlaying(!this.isPlaying)},change:function(){this.isModelType===R.loop?this.actModelType(R.one):this.isModelType===R.one?this.actModelType(R.random):this.isModelType===R.random&&this.actModelType(R.loop)},nextMusic:function(){this.addCurrentIndex()},preMusic:function(){this.delCurrentIndex()},favorite:function(){this.actFavoriteSongs(this.isDetailSong)},isFavorite:function(t){var e=this.getFavoriteSongs.find((function(e){return e.id===t.id}));return void 0!==e},progressClick:function(t){var e=this.$refs.progressGround.offsetLeft,n=t.pageX,i=n-e,r=this.$refs.progressGround.offsetWidth,a=i/r;this.$refs.eleProgressBar.style.width=100*a+"%";var s=a*this.totalTime;this.actCurrentTime(s)}}),computed:Object(S["a"])({},Object(P["c"])(["isPlaying","isModelType","isDetailSong","getFavoriteSongs"])),watch:{isPlaying:function(t){!0===t?this.$refs.play.classList.add("active"):this.$refs.play.classList.remove("active")},isModelType:function(t){t===R.loop?(this.$refs.mode.classList.remove("random"),this.$refs.mode.classList.add("loop")):t===R.one?(this.$refs.mode.classList.remove("loop"),this.$refs.mode.classList.add("one")):t===R.random&&(this.$refs.mode.classList.remove("one"),this.$refs.mode.classList.add("random"))},totalTime:function(t){var e=q(t);this.$refs.eleTotalTime.innerHTML=e.minute+":"+e.second},currentTime:function(t){var e=q(t);this.$refs.eleCurrentTime.innerHTML=e.minute+":"+e.second;var n=this.currentTime/this.totalTime*100;this.$refs.eleProgressBar.style.width=n+"%"}}},z=K,W=(n("5040"),Object(u["a"])(z,A,B,!1,null,"4b173f29",null)),X=W.exports,Q=n("589d"),Y=n.n(Q),Z=(n("2d7c"),{name:"NormalPlayer",props:{totalTime:{type:Number,default:0,required:!0},currentTime:{type:Number,default:0,required:!0}},components:{PlayerHeader:_,PlayerMiddle:V,PlayerBottom:X},computed:Object(S["a"])({},Object(P["c"])(["isFullView","isDetailSong"])),methods:Object(S["a"])({},Object(P["b"])(["actLyric"]),{enter:function(t,e){Y()(t,"transition.shrinkIn",{duration:500},(function(){e()}))},leave:function(t,e){Y()(t,"transition.shrinkOut",{duration:500},(function(){e()}))}}),watch:{isDetailSong:function(t){this.actLyric(t.id)}}}),tt=Z,et=(n("4def"),Object(u["a"])(tt,T,L,!1,null,"5fecb6c9",null)),nt=et.exports,it=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:this.isMiniPlayer,expression:"this.isMiniPlayer"}],staticClass:"mini-player"},[n("div",{staticClass:"mini-content"},[n("div",{staticClass:"item-letf",on:{click:t.openNormalPlayer}},[n("div",{staticClass:"circle"},[n("img",{ref:"img",attrs:{src:t.isDetailSong.picUrl}})]),n("div",{staticClass:"content"},[n("h3",[t._v(t._s(t.isDetailSong.name))]),n("p",[t._v(t._s(t.isDetailSong.singer))])])]),n("div",{staticClass:"item-right"},[n("div",{ref:"play",staticClass:"play",on:{click:t.play}}),n("div",{staticClass:"list",on:{click:function(e){return e.stopPropagation(),t.open(e)}}})])])])])},rt=[],at={name:"MiniPlayer",methods:Object(S["a"])({open:function(){this.actListPlayer(!0)}},Object(P["b"])(["actChangeView","actMiniPlayer","actPlaying","actListPlayer"]),{openNormalPlayer:function(){this.actChangeView(!0),this.actMiniPlayer(!1)},enter:function(t,e){Y()(t,"transition.bounceUpIn",{duration:500},(function(){e()}))},leave:function(t,e){Y()(t,"transition.bounceDownOut",{duration:500},(function(){e()}))},play:function(){this.actPlaying(!this.isPlaying)}}),computed:Object(S["a"])({},Object(P["c"])(["isMiniPlayer","isPlaying","isDetailSong"])),watch:{isPlaying:function(t){!0===t?(this.$refs.play.classList.add("active"),this.$refs.img.classList.add("active")):(this.$refs.play.classList.remove("active"),this.$refs.img.classList.remove("active"))}}},st=at,ot=(n("6b40"),Object(u["a"])(st,it,rt,!1,null,"200dc709",null)),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isListPlayer,expression:"isListPlayer"}],staticClass:"minilist"},[n("div",{staticClass:"list-top"},[n("div",{staticClass:"top-left"},[n("div",{ref:"mode",staticClass:"mod loop",on:{click:function(e){return e.stopPropagation(),t.change(e)}}}),0===this.isModelType?n("p",[t._v("顺序播放")]):1===this.isModelType?n("p",[t._v("单曲循环")]):n("p",[t._v("随机播放")])]),n("div",{staticClass:"top-right",on:{click:function(e){return e.stopPropagation(),t.delAll(e)}}})]),n("div",{staticClass:"list-middle"},[n("ScrollView",{ref:"scrollview"},[n("ul",{ref:"play",staticClass:"middle"},t._l(t.isDetailSongs,(function(e,i){return n("li",{key:e.id},[n("div",{staticClass:"middle-left",on:{click:function(e){return e.stopPropagation(),t.selectMusic(i)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.currentIndex==i,expression:"currentIndex == index"}],staticClass:"play",on:{click:function(e){return e.stopPropagation(),t.play(e)}}}),n("p",[t._v(t._s(e.name))])]),n("div",{staticClass:"middle-right"},[n("div",{staticClass:"favorite",class:{active:t.isFavoriteSong(e)},on:{click:function(n){return n.stopPropagation(),t.addFavoriteSong(e)}}}),n("div",{staticClass:"close",on:{click:function(e){return e.stopPropagation(),t.del(i)}}})])])})),0)])],1),n("div",{staticClass:"list-bottom"},[n("p",{on:{click:function(e){return e.stopPropagation(),t.close(e)}}},[t._v("关闭")])])])])},ut=[],dt={name:"MiniList",components:{ScrollView:F["a"]},methods:Object(S["a"])({},Object(P["b"])(["actPlaying","actModelType","actListPlayer","delSong","setCurrentIndex","actFavoriteSongs"]),{play:function(){this.actPlaying(!this.isPlaying)},close:function(){this.actListPlayer(!1)},enter:function(t,e){Y()(t,"transition.slideRightIn",{duration:500},(function(){e()}))},leave:function(t,e){Y()(t,"transition.slideRightOut",{duration:500},(function(){e()}))},change:function(){this.isModelType===R.loop?this.actModelType(R.one):this.isModelType===R.one?this.actModelType(R.random):this.isModelType===R.random&&this.actModelType(R.loop)},del:function(t){this.delSong(t)},delAll:function(){this.delSong()},selectMusic:function(t){this.setCurrentIndex(t)},addFavoriteSong:function(t){this.actFavoriteSongs(t)},isFavoriteSong:function(t){var e=this.getFavoriteSongs.find((function(e){return t.id===e.id}));return void 0!==e}}),computed:Object(S["a"])({},Object(P["c"])(["isPlaying","isModelType","isListPlayer","isDetailSongs","currentIndex","getFavoriteSongs","isDetailSong"])),watch:{isPlaying:function(t){!0===t?this.$refs.play.classList.add("active"):this.$refs.play.classList.remove("active")},isModelType:function(t){t===R.loop?(this.$refs.mode.classList.remove("random"),this.$refs.mode.classList.add("loop")):t===R.one?(this.$refs.mode.classList.remove("loop"),this.$refs.mode.classList.add("one")):t===R.random&&(this.$refs.mode.classList.remove("one"),this.$refs.mode.classList.add("random"))},isListPlayer:function(t){t&&this.$refs.scrollview.refresh()}}},ft=dt,ht=(n("d497"),Object(u["a"])(ft,lt,ut,!1,null,"48d0d1aa",null)),mt=ht.exports,pt={name:"Player",components:{NormalPlayer:nt,MiniPlayer:ct,MiniList:mt},computed:Object(S["a"])({},Object(P["c"])(["isDetailSong","isPlaying","currentIndex","getCurrentTime","isModelType","isDetailSongs","getFavoriteSongs","getHistoryList"])),watch:{isPlaying:function(t){t?this.$refs.audio.play():this.$refs.audio.pause(),this.actHistorySongs(this.isDetailSong)},currentIndex:function(){var t=this;this.$refs.audio.oncanplay=function(){t.totalTime=t.$refs.audio.duration,t.isPlaying?(t.actHistorySongs(t.isDetailSong),t.$refs.audio.play()):t.$refs.audio.pause()}},getCurrentTime:function(t){this.$refs.audio.currentTime=t},getFavoriteSongs:function(t){J("storageFavoriteSongs",t)},getHistoryList:function(t){J("storageHistoryList",t)}},created:function(){var t=JSON.parse(G("storageFavoriteSongs"));if(null!==t){this.actFavoriteList(t);var e=JSON.parse(G("storageHistoryList"));null!==e&&this.actHistoryList(e)}},data:function(){return{totalTime:0,currentTime:0}},methods:Object(S["a"])({},Object(P["b"])(["setCurrentIndex","actFavoriteList","actHistorySongs","actHistoryList"]),{timeupdate:function(t){this.currentTime=t.target.currentTime},end:function(){this.isModelType===R.loop?this.setCurrentIndex(this.currentIndex+1):this.isModelType===R.one?this.$refs.audio.play():this.isModelType===R.random&&this.setCurrentIndex(U(0,this.isDetailSongs.length-1))}}),mounted:function(){var t=this;this.$refs.audio.oncanplay=function(){t.totalTime=t.$refs.audio.duration}}},gt=pt,vt=Object(u["a"])(gt,b,w,!1,null,"52461951",null),yt=vt.exports,bt={name:"App",components:{Header:f,Tabbar:y,Player:yt}},wt=bt,St=(n("5879"),Object(u["a"])(wt,r,a,!1,null,"594c2e4c",null)),Pt=St.exports,Tt=(n("d3b7"),n("8c4f")),Lt=function(t){n.e("chunk-fce47f62").then(n.bind(null,"2059")).then((function(e){t(e)}))},Ct=function(t){n.e("chunk-2fd7ae14").then(n.bind(null,"4802")).then((function(e){t(e)}))},Mt=function(t){n.e("chunk-8d025a70").then(n.bind(null,"7f43")).then((function(e){t(e)}))},xt=function(t){n.e("chunk-388f7f58").then(n.bind(null,"789b")).then((function(e){t(e)}))},kt=function(t){n.e("chunk-5ebcf5d2").then(n.bind(null,"2d3b")).then((function(e){t(e)}))},Ot=function(t){n.e("chunk-9397f96c").then(n.bind(null,"b6c0")).then((function(e){t(e)}))};i["a"].use(Tt["a"]);var _t=[{path:"/",redirect:"/recommend"},{path:"/recommend",component:Ct,children:[{path:"detail/:id/:type",component:Lt}]},{path:"/singer",component:Mt,children:[{path:"detail/:id/:type",component:Lt}]},{path:"/rank",component:xt,children:[{path:"detail/:id/:type",component:Lt}]},{path:"/search",component:kt},{path:"/account",component:Ot}],$t=new Tt["a"]({routes:_t}),jt=$t,It={isFullView:!1,isMiniPlayer:!1,isListPlayer:!1,isPlaying:!1,isModelType:R.loop,isDetailSongs:[],isDetailSong:{},currentIndex:0,currentLyric:{},currentTime:0,favoriteSongs:[],historyList:[]},Dt=(n("a434"),{changeView:function(t,e){t.isFullView=e,t.isMiniPlayer=!1,t.isListPlayer=!1},changeMiniPlayer:function(t,e){t.isMiniPlayer=e,this.isFullView=!1,this.isListPlayer=!1},changePlaying:function(t,e){t.isPlaying=e},changeModelType:function(t,e){t.isModelType=e},changeLits:function(t,e){t.isListPlayer=e},getDetailSongs:function(t,e){t.isDetailSongs=e},getLyrics:function(t,e){t.currentLyric=e},delSong:function(t,e){void 0!==e?t.isDetailSongs.splice(e,1):t.isDetailSongs=[],t.currentIndex>e&&(t.currentIndex-=1),0==t.isDetailSongs&&(t.isFullView=!1,t.isMiniPlayer=!1,t.isListPlayer=!1)},changeCurrentIndex:function(t,e){t.currentIndex=e},addCurrentIndex:function(t){t.currentIndex<t.isDetailSongs.length-1?t.currentIndex+=1:t.currentIndex=0},delCurrentIndex:function(t){t.currentIndex>0?t.currentIndex-=1:t.currentIndex=t.isDetailSongs.length-1},changeCurrentTime:function(t,e){t.currentTime=e},changeFavoriteSongs:function(t,e){var n=t.favoriteSongs.find((function(t){return t.id===e.id}));void 0===n&&t.favoriteSongs.push(e)},changFavoriteList:function(t,e){t.favoriteSongs=e},changHistorySong:function(t,e){var n=t.historyList.find((function(t){return t.id===e.id}));void 0===n&&(t.historyList.length>30&&t.historyList.splice(0,1),t.historyList.push(e))},changeHistoryList:function(t,e){t.historyList=e}}),Ft=(n("4160"),n("a15b"),n("b0c0"),n("e25e"),n("ac1f"),n("466d"),n("5319"),n("1276"),n("498a"),n("159b"),n("96cf"),n("1da1")),Et=n("365c"),Ht={actChangeView:function(t,e){var n=t.commit;n("changeView",e)},actMiniPlayer:function(t,e){var n=t.commit;n("changeMiniPlayer",e)},actPlaying:function(t,e){var n=t.commit;n("changePlaying",e)},actModelType:function(t,e){var n=t.commit;n("changeModelType",e)},actListPlayer:function(t,e){var n=t.commit;n("changeLits",e)},actDetailSongs:function(t,e){var n=t.commit;return Object(Ft["a"])(regeneratorRuntime.mark((function t(){var i,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Et["d"])({ids:e.join(",")});case 2:return i=t.sent,t.next=5,Object(Et["g"])({id:e.join(",")});case 5:r=t.sent,a=[],i.songs.forEach((function(t){for(var e={},n=0;n<r.data.length;n++){var i=r.data[n];if(t.id===i.id){e.url=i.url;break}}e.id=t.id,e.name=t.name;var s="";t["ar"].forEach((function(t,e){0===e?s=t.name:s+="-"+t.name})),e.singer=s,e.picUrl=t["al"].picUrl,a.push(e)})),n("getDetailSongs",a);case 9:case"end":return t.stop()}}),t)})))()},actLyric:function(t,e){var n=t.commit;return Object(Ft["a"])(regeneratorRuntime.mark((function t(){var i,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(Et["f"])({id:e});case 2:i=t.sent,r=Nt(i.lrc.lyric),n("getLyrics",r);case 5:case"end":return t.stop()}}),t)})))()},delSong:function(t,e){var n=t.commit;n("delSong",e)},setCurrentIndex:function(t,e){var n=t.commit;n("changeCurrentIndex",e)},addCurrentIndex:function(t){var e=t.commit;e("addCurrentIndex")},delCurrentIndex:function(t){var e=t.commit;e("delCurrentIndex")},actCurrentTime:function(t,e){var n=t.commit;n("changeCurrentTime",e)},actFavoriteSongs:function(t,e){var n=t.commit;n("changeFavoriteSongs",e)},actFavoriteList:function(t,e){var n=t.commit;n("changFavoriteList",e)},actHistorySongs:function(t,e){var n=t.commit;n("changHistorySong",e)},actHistoryList:function(t,e){var n=t.commit;n("changeHistoryList",e)}};function Nt(t){var e=t.split("\n"),n=/\[\d*:\d*\.\d*\]/g,i=/\[\d*/i,r=/:\d*/i,a={};return e.forEach((function(t){var e=t.match(n);if(e){e=e[0];var s=e.match(i)[0].substr(1),o=e.match(r)[0].substr(1),c=60*parseInt(s)+parseInt(o),l=t.replace(n,"").trim();a[c]=l}})),a}var Vt={isFullView:function(t){return t.isFullView},isMiniPlayer:function(t){return t.isMiniPlayer},isPlaying:function(t){return t.isPlaying},isModelType:function(t){return t.isModelType},isListPlayer:function(t){return t.isListPlayer},isDetailSongs:function(t){return t.isDetailSongs},isDetailSong:function(t){var e={name:"",singer:"",picUrl:null,ids:""};return 0!==t.isDetailSongs.length&&(e=t.isDetailSongs[t.currentIndex]),e},currentLyric:function(t){return t.currentLyric},currentIndex:function(t){return t.currentIndex},getCurrentTime:function(t){return t.currentTime},getFavoriteSongs:function(t){return t.favoriteSongs},getHistoryList:function(t){return t.historyList}};i["a"].use(P["a"]);var At=new P["a"].Store({state:It,mutations:Dt,actions:Ht,getters:Vt}),Bt=n("fe3c"),Rt=n.n(Bt),Ut=n("caf9"),qt=(n("2ea5"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"container"},[n("div",{staticClass:"loading"}),n("p",{staticClass:"title"},[t._v(t._s(t.title))])])}),Jt=[],Gt={name:"Loading",data:function(){return{title:"正在加载...",isShow:!1}}},Kt=Gt,zt=(n("1bcb"),Object(u["a"])(Kt,qt,Jt,!1,null,"53beff7c",null)),Wt=zt.exports,Xt={install:function(t,e){var n=t.extend(Wt),i=new n,r=document.createElement("div");document.body.appendChild(r),i.$mount(r),e&&null!==e.title&&void 0!==e.title&&(i.title=e.title),t.showLoading=function(){i.isShow=!0},t.hiddenLoading=function(){i.isShow=!1},t.prototype.$showLoading=function(){i.isShow=!0},t.prototype.$hiddenLoading=function(){i.isShow=!1}}};i["a"].use(D.a),i["a"].use(Xt,{title:"正在加载..."}),i["a"].use(Ut["a"],{loading:n("cfcf")}),i["a"].config.productionTip=!1,Rt.a.attach(document.body),new i["a"]({router:jt,store:At,render:function(t){return t(Pt)}}).$mount("#app")},5879:function(t,e,n){"use strict";var i=n("784e"),r=n.n(i);r.a},5920:function(t,e,n){"use strict";var i=n("0ce7"),r=n.n(i);r.a},"6b40":function(t,e,n){"use strict";var i=n("86b4"),r=n.n(i);r.a},"784e":function(t,e,n){},"7a2e":function(t,e,n){},"82a1":function(t,e,n){},"86b4":function(t,e,n){},"9b91":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"wrapper",attrs:{id:"wrapper"}},[t._t("default")],2)},r=[],a=(n("4795"),n("54af")),s=n.n(a),o={name:"ScrollView",mounted:function(){var t=this;this.myScroll=new s.a(this.$refs.wrapper,{mouseWheel:!0,scrollbars:!1,probeType:3,scrollX:!1,scrollY:!0,disablePointer:!0,disableTouch:!1,disableMouse:!0});var e=new MutationObserver((function(){t.myScroll.refresh()})),n={childList:!0,subtree:!0,attributeFilter:["height","offsetHeight"]};e.observe(this.$refs.wrapper,n)},methods:{scrolling:function(t){this.myScroll.on("scroll",(function(){t(this.y)}))},refresh:function(){var t=this;setTimeout((function(){t.myScroll.refresh()}),100)},scrollTo:function(t,e,n){this.myScroll.scrollTo(t,e,n)}}},c=o,l=(n("5920"),n("2877")),u=Object(l["a"])(c,i,r,!1,null,"20803b3c",null);e["a"]=u.exports},a48e:function(t,e,n){},ba2f:function(t,e,n){},c448:function(t,e,n){"use strict";var i=n("ff4c"),r=n.n(i);r.a},cfcf:function(t,e,n){t.exports=n.p+"img/loading.d820cdc6.png"},cff4:function(t,e,n){"use strict";var i=n("f060"),r=n.n(i);r.a},d25a:function(t,e,n){"use strict";var i=n("339d"),r=n.n(i);r.a},d497:function(t,e,n){"use strict";var i=n("82a1"),r=n.n(i);r.a},f060:function(t,e,n){},ff4c:function(t,e,n){}});
//# sourceMappingURL=app.efea6c40.js.map